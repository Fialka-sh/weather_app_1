(this["webpackJsonptest-question"]=this["webpackJsonptest-question"]||[]).push([[0],{22:function(e,t,a){e.exports=a(35)},27:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),i=a.n(r),l=(a(27),a(12)),s=a(11),o=a.n(s),m=a(15),u=a(6),v=a(8),p=a(1);a(29);var d=function(e){var t=e.cityName,a=e.curTemp,r=e.curWeatherTxt,i=e.weeklyTemp,l=e.favList,s=e.searchCityData,o=e.updatetoFavList,m=Object(n.useState)(""),v=Object(u.a)(m,2),p=v[0],d=v[1];return c.a.createElement("div",{className:"homePage cneterIt"},c.a.createElement("div",{className:"searchCityArea centerIt"},c.a.createElement("input",{onChange:function(e){return d(e.target.value)},type:"text",className:"inpt",placeholder:"Enter City Name"}),c.a.createElement("button",{onClick:function(){var e;""!==(e=p)&&s(e)},className:"btn"},"Search")),c.a.createElement("div",{className:"weatherRsltsArea"},c.a.createElement("div",{className:"crntRsltArea centerIt"},c.a.createElement("div",{className:"crntRslt"},c.a.createElement("h3",null,t),c.a.createElement("h3",null,a)),c.a.createElement("button",{onClick:function(){0===l.filter((function(e){return e.City===t})).length?o(t,a,r,i):alert("City is already in Favorits List")},className:"btn"},"Add To Favorites")),c.a.createElement("div",{className:"crntRsltTxtArea centerIt"},c.a.createElement("p",{className:"crntResuTxt"},r)),c.a.createElement("div",{className:"weekWeatherArea centerIt"},c.a.createElement("div",{className:"weatherTitle centerIt"},c.a.createElement("h3",null,"Weekly weather Forecast")),c.a.createElement("div",{className:"dailyWeatherArea centerIt"},i.map((function(e,t){return c.a.createElement("div",{className:"dailyTemp centerIt",key:t},c.a.createElement("p",null,e.day),c.a.createElement("p",null,e.temp))}))))))};var h=function(e){var t=e.city,a=e.temp,n=e.index,r=e.id,i=e.deleteItem,l=e.showFavData;return c.a.createElement("div",{className:"favListIt"},c.a.createElement("div",{className:"favItemDel"},c.a.createElement("button",{onClick:function(){i(n)},className:"favDelBtn"},"X")),c.a.createElement(v.b,{to:"/",onClick:function(){l(t)},className:"link"},c.a.createElement("div",{className:"favListData centerIt"},c.a.createElement("p",{className:"cityKeyId"},r),c.a.createElement("p",null,t),c.a.createElement("p",null,a," c"))))};var f=function(e){var t=e.favList,a=e.deleteFavItem,n=e.showFavData;return c.a.createElement("div",{className:"favorites centerIt"},c.a.createElement("div",{className:"favList"},t.map((function(e,t){return c.a.createElement(h,{city:e.City,temp:e.CurTemp,id:e.ID,key:t,index:t,deleteItem:a,showFavData:n})}))))};var y=function(){var e="IghvBaSB0LoKgRG8EpKUOhGm0nXkFrcH",t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)(""),h=Object(u.a)(s,2),y=h[0],E=h[1],T=Object(n.useState)(0),b=Object(u.a)(T,2),N=b[0],I=b[1],k=Object(n.useState)(""),w=Object(u.a)(k,2),j=w[0],C=w[1],O=Object(n.useState)([]),x=Object(u.a)(O,2),D=x[0],F=x[1],W=Object(n.useState)([{City:"Elat",ID:21548,CurTemp:21,Txt:"A bit Chilli",Week:[{day:"Sun",temp:22},{day:"Mon",temp:23},{day:"Tue",temp:19},{day:"Wed",temp:25},{day:"Thu",temp:21}]},{City:"Haifa",CurTemp:25,Txt:"Wonderfull Day",ID:21324,Week:[{day:"Sun",temp:25},{day:"Mon",temp:27},{day:"Tue",temp:26},{day:"Wed",temp:25},{day:"Thu",temp:25}]}]),g=Object(u.a)(W,2),S=g[0],A=g[1],L=function(){var t=Object(m.a)(o.a.mark((function t(a){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C("FETCHING..."),t.prev=1,t.next=4,fetch("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(e,"&q=").concat(a));case 4:return t.next=6,t.sent.json();case 6:n=t.sent,E(n[0].Key),c=n[0].Key,fetch("https://dataservice.accuweather.com/currentconditions/v1/".concat(c,"?apikey=").concat(e)).then((function(e){return e.json()})).then((function(t){i(n[0].LocalizedName),I(t[0].Temperature.Metric.Value),C(t[0].WeatherText),fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(c,"?apikey=").concat(e)).then((function(e){return e.json()})).then((function(e){for(var t=[],a=0;a<e.DailyForecasts.length;a++){var n=e.DailyForecasts[a].Temperature.Maximum.Value,c=e.DailyForecasts[a].Temperature.Minimum.Value,r=Math.floor(((n+c)/2-32)/1.8);t.push({day:["Sun","Mon","Tue","Wed","Thu"][a],temp:r}),F([].concat(t))}}))})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),C("ERROR...TRY AGAIN");case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log("hi"),L("tel-aviv")}),[]);var R=function(){var e=Object(m.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"App"},c.a.createElement("h1",{className:"title centerIt"},"Weather App"),c.a.createElement(v.a,null,c.a.createElement("header",{className:"nav centerIt"},c.a.createElement(v.b,{to:"/",className:"navTi"},"Home"),c.a.createElement(v.b,{to:"/favorites",className:"navTi"},"Favorites")),c.a.createElement(p.c,null,c.a.createElement(p.a,{exact:!0,path:"/"},c.a.createElement(d,{cityName:r,curTemp:N,favList:S,curWeatherTxt:j,weeklyTemp:D,searchCityData:R,updatetoFavList:function(e,t,a,n){A([].concat(Object(l.a)(S),[{City:e,ID:y,CurTemp:t,Txt:a,Week:Object(l.a)(n)}]))}})),c.a.createElement(p.a,{exact:!0,path:"/favorites"},c.a.createElement(f,{favList:S,deleteFavItem:function(e){var t=S.filter((function(t,a){return a!==e}));A(Object(l.a)(t))},showFavData:function(e){var t=S.filter((function(t,a){return t.City===e}));i(t[0].City),E(t[0].ID),I(t[0].CurTemp),C(t[0].Txt),F(Object(l.a)(t[0].Week))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.1b6c6a17.chunk.js.map